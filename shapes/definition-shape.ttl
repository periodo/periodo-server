@base <http://n2t.net/ark:/99152/> .

@prefix periodo: <p0v#> .

@prefix bibo: <http://purl.org/ontology/bibo/> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix time: <http://www.w3.org/2006/time#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

periodo:DefinitionShape
  rdf:type sh:NodeShape ;
  rdfs:label "Period definition shape" ;
  sh:targetClass skos:Concept ;
  sh:closed "true"^^xsd:boolean ;
  sh:ignoredProperties (
    rdf:type
    ) ;
  sh:property
    periodo:DefinitionPreferredLabelShape ,
    periodo:DefinitionLocalizedLabelShape ,
    periodo:DefinitionNoteShape ,
    periodo:DefinitionEditorialNoteShape ,
    periodo:DefinitionCollectionShape ,
    periodo:DefinitionSourceShape ,
    periodo:DefinitionSourceIsPartOfShape ,
    periodo:DefinitionSourceLocatorShape ,
    periodo:DefinitionStartShape ,
    periodo:DefinitionStopShape ,
    periodo:DefinitionSpatialCoverageDescriptionShape ,
    periodo:DefinitionSpatialCoverageShape ,
    periodo:DefinitionSameAsShape ,
    periodo:DefinitionURLShape ,
    periodo:DefinitionLanguageShape
  .

periodo:DefinitionPreferredLabelShape
  rdf:type sh:PropertyShape ;
  sh:path skos:prefLabel ;
  sh:name "preferred label" ;
  sh:description "Name of the period as given in the source" ;
  sh:datatype xsd:string ;
  sh:minCount 1 ;
  sh:maxCount 1 ;
  sh:message "Problem with definition preferred label" ;
  .

periodo:DefinitionLocalizedLabelShape
  rdf:type sh:PropertyShape ;
  sh:path skos:altLabel ;
  sh:name "localized label" ;
  sh:description "Language-specific name for the period" ;
  sh:datatype rdf:langString ;
  sh:minCount 1 ;
  sh:message "Problem with definition localized label" ;
  .

periodo:DefinitionNoteShape
  rdf:type sh:PropertyShape ;
  sh:path skos:note ;
  sh:name "note" ;
  sh:description "Notes about the definition taken from the source" ;
  sh:datatype xsd:string ;
  sh:maxCount 1 ;
  sh:message "Problem with definition note" ;
  .

periodo:DefinitionEditorialNoteShape
  rdf:type sh:PropertyShape ;
  sh:path skos:editorialNote ;
  sh:name "editorial note" ;
  sh:description "Administrative or editorial notes from PeriodO curators" ;
  sh:datatype xsd:string ;
  sh:maxCount 1 ;
  sh:message "Problem with definition editorial note" ;
  .

periodo:DefinitionCollectionShape
  rdf:type sh:PropertyShape ;
  sh:path skos:inScheme ;
  sh:name "collection" ;
  sh:description "Collection to which this period definition belongs" ;
  sh:nodeKind sh:IRI ;
  sh:class skos:ConceptScheme ;
  sh:minCount 1 ;
  sh:maxCount 1 ;
  sh:message "Problem with definition link to collection" ;
  .

periodo:DefinitionSourceShape
  rdf:type sh:PropertyShape ;
  sh:path dcterms:source ;
  sh:name "source" ;
  sh:description "Bibliographic information specific to this definition" ;
  sh:nodeKind sh:BlankNode ;
  sh:node periodo:SourceShape ;
  sh:maxCount 1 ;
  sh:message "Problem with definition source" ;
  .

periodo:DefinitionSourceIsPartOfShape
  rdf:type sh:PropertyShape ;
  sh:path ( dcterms:source dcterms:isPartOf ) ;
  sh:name "source is part of" ;
  sh:nodeKind sh:IRI ;
  sh:maxCount 1 ;
  sh:message "Problem with definition source (is part of)" ;
  .

periodo:DefinitionSourceLocatorShape
  rdf:type sh:PropertyShape ;
  sh:path ( dcterms:source bibo:locator ) ;
  sh:name "source locator" ;
  sh:datatype xsd:string ;
  sh:maxCount 1 ;
  sh:message "Problem with definition source (locator)" ;
  .

periodo:DefinitionStartShape
  rdf:type sh:PropertyShape ;
  sh:path time:intervalStartedBy ;
  sh:name "start" ;
  sh:description "Start interval for the period" ;
  sh:nodeKind sh:BlankNode ;
  sh:node periodo:IntervalShape ;
  sh:minCount 1 ;
  sh:maxCount 1 ;
  sh:message "Problem with definition start interval" ;
  .

periodo:DefinitionStopShape
  rdf:type sh:PropertyShape ;
  sh:path time:intervalFinishedBy ;
  sh:name "stop" ;
  sh:description "Stop interval for the period" ;
  sh:nodeKind sh:BlankNode ;
  sh:node periodo:IntervalShape ;
  sh:minCount 1 ;
  sh:maxCount 1 ;
  sh:message "Problem with definition stop interval" ;
  .

periodo:DefinitionSpatialCoverageDescriptionShape
  rdf:type sh:PropertyShape ;
  sh:path periodo:spatialCoverageDescription ;
  sh:name "spatial coverage description" ;
  sh:description "Spatial extent of the period as described in the source" ;
  sh:datatype xsd:string ;
  sh:maxCount 1 ;
  sh:message "Problem with definition spatial coverage description" ;
  .

periodo:DefinitionSpatialCoverageShape
  rdf:type sh:PropertyShape ;
  sh:path dcterms:spatial ;
  sh:name "spatial coverage" ;
  sh:description "Place (partially) within spatial extent of the period" ;
  sh:nodeKind sh:IRI ;
# Temporarily disabled
#    sh:minCount 1 ;
  sh:message "Problem with definition spatial coverage" ;
  .

periodo:DefinitionSameAsShape
  rdf:type sh:PropertyShape ;
  sh:path owl:sameAs ;
  sh:name "same as" ;
  sh:description "Alternative URI for this definition" ;
  sh:nodeKind sh:IRI ;
  sh:message "Problem with definition alternative URI (sameAs)" ;
  .

periodo:DefinitionURLShape
  rdf:type sh:PropertyShape ;
  sh:path foaf:page ;
  sh:name "url" ;
  sh:description "Web resource with information about this definition" ;
  sh:nodeKind sh:IRI ;
  sh:message "Problem with definition URL" ;
  .

periodo:DefinitionLanguageShape
  rdf:type sh:PropertyShape ;
  sh:path dcterms:language ;
  sh:name "language" ;
  sh:description "Language of the preferred label for this period" ;
  sh:datatype xsd:string ;
  sh:minCount 1 ;
  sh:maxCount 1 ;
  sh:message "Problem with definition language" ;
  .
